<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snake Game - LOL</title>
  <style>
    /* ---------- General Styles ---------- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Arial', sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
      position: relative;
      overflow: hidden;
      color: #fff;
    }

    a.back-link {
      position: absolute;
      top: 20px;
      left: 20px;
      text-decoration: none;
      color: white;
      font-size: 1.1em;
      background: rgba(255,255,255,0.2);
      padding: 10px 20px;
      border-radius: 25px;
      backdrop-filter: blur(5px);
      transition: background 0.3s;
    }
    a.back-link:hover { background: rgba(255,255,255,0.3); }

    /* ---------- Game Container ---------- */
    .game-container {
      background: rgba(255,255,255,0.1);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 { font-size: 2.5em; margin-bottom: 20px; text-align: center; }

    canvas#gameCanvas {
      width: 400px; height: 400px;
      background: #121212;
      border-radius: 10px;
      border: 3px solid #fff;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }

    .game-info { display: flex; justify-content: space-between; width: 100%; margin: 20px 0; font-size: 1.2em; }
    .score, .high-score { background: rgba(255,255,255,0.2); padding: 10px 20px; border-radius: 25px; backdrop-filter: blur(5px); }
    .controls { text-align: center; font-size: 1.1em; }

    /* ---------- Overlay Screens ---------- */
    .overlay {
      position: absolute; top:50%; left:50%;
      transform: translate(-50%,-50%);
      background: rgba(0,0,0,0.9);
      padding: 30px; border-radius: 15px;
      text-align: center; z-index: 100;
      max-width: 400px; display: none;
    }
    .overlay.active { display: block; }

    .btn { border: none; border-radius: 25px; padding: 12px 30px; font-size: 1.1em; cursor: pointer; margin-top: 15px; transition: transform 0.2s; }
    .btn:hover { transform: scale(1.05); }

    .start-btn { background: linear-gradient(45deg,#4caf50,#388e3c); color: white; }
    .restart-btn { background: linear-gradient(45deg,#f44336,#d32f2f); color: white; }

    .roast-message { font-size:1.1em; color:#ff6b6b; margin:15px 0; font-weight:bold; }

  </style>
</head>
<body>

  <a href="#" class="back-link">← Back</a>

  <div class="game-container">
    <h1>Snake Game</h1>
    <div class="game-info">
      <div class="score">Score: <span id="score">0</span></div>
      <div class="high-score">High: <span id="highScore">0</span></div>
    </div>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <div class="controls">
      <p>Arrow keys or WASD</p>
      <p>Eat or get rekt</p>
    </div>
  </div>

  <!-- Start Screen -->
  <div class="overlay active" id="startScreen">
    <h2>Snake Game</h2>
    <p>Ready to flex?</p>
    <button class="btn start-btn" onclick="startGame()">Press SPACE to start</button>
  </div>

  <!-- Loading Screen -->
  <div class="overlay" id="loadingScreen">
    <h3>Loading… chill</h3>
    <p>Get set</p>
  </div>

  <!-- Game Over Screen -->
  <div class="overlay" id="gameOver">
    <h2>Game Over!</h2>
    <p>Score: <span id="finalScore">0</span></p>
    <div class="roast-message" id="roastMessage"></div>
    <button class="btn restart-btn" onclick="restartGame()">Retry</button>
  </div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const highScoreEl = document.getElementById('highScore');
    const startScreen = document.getElementById('startScreen');
    const loadingScreen = document.getElementById('loadingScreen');
    const gameOverScreen = document.getElementById('gameOver');
    const finalScoreEl = document.getElementById('finalScore');
    const roastMessageEl = document.getElementById('roastMessage');

    const GRID_SIZE = 20;
    const TILE_COUNT = canvas.width / GRID_SIZE;
    const ROASTS = [
      "You got mugged by a snake",
      "That’s it, you lost fam",
      "Better step up next round",
      "Snake schooled you",
      "No mercy, mate",
      "Oi! That was weak",
      "Game over, bruv"
    ];

    let snake = [{x:10,y:10}];
    let food = {};
    let dx=1, dy=0;
    let score=0;
    let highScore=parseInt(localStorage.getItem('snakeHighScore'))||0;
    let gameRunning=false;
    let gameStarted=false;
    highScoreEl.textContent=highScore;

    const generateFood=()=> {
      food={x:Math.floor(Math.random()*TILE_COUNT),y:Math.floor(Math.random()*TILE_COUNT)};
      if(snake.some(s=>s.x===food.x && s.y===food.y)){ generateFood(); }
    }

    const drawGame=()=> {
      ctx.fillStyle='#121212';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      snake.forEach((s,i)=> {
        ctx.fillStyle=i===0?'#4caf50':'#81c784';
        ctx.fillRect(s.x*GRID_SIZE,s.y*GRID_SIZE,GRID_SIZE-2,GRID_SIZE-2);
      });
      ctx.fillStyle='#ffb74d';
      ctx.fillRect(food.x*GRID_SIZE,food.y*GRID_SIZE,GRID_SIZE-2,GRID_SIZE-2);
    }

    const moveSnake=()=> {
      if(!gameRunning) return;
      const head={x:snake[0].x+dx,y:snake[0].y+dy};
      if(head.x<0||head.x>=TILE_COUNT||head.y<0||head.y>=TILE_COUNT||snake.some((s,i)=>i>0 && s.x===head.x && s.y===head.y)){ endGame(); return; }
      snake.unshift(head);
      if(head.x===food.x && head.y===food.y){ score+=10; scoreEl.textContent=score; generateFood(); } else { snake.pop(); }
    }

    const endGame=()=> {
      gameRunning=false;
      finalScoreEl.textContent=score;
      roastMessageEl.textContent=ROASTS[Math.floor(Math.random()*ROASTS.length)];
      if(score>highScore){ highScore=score; localStorage.setItem('snakeHighScore',highScore); highScoreEl.textContent=highScore; }
      gameOverScreen.classList.add('active');
    }

    const startGame=()=> {
      startScreen.classList.remove('active');
      loadingScreen.classList.add('active');
      setTimeout(()=>{ loadingScreen.classList.remove('active'); gameStarted=true; restartGame(); },1000);
    }

    const restartGame=()=> {
      snake=[{x:10,y:10}]; dx=1; dy=0; score=0; scoreEl.textContent=score; gameRunning=true; gameOverScreen.classList.remove('active'); generateFood();
    }

    document.addEventListener('keydown',e=>{
      if(!gameStarted && e.code==='Space'){ e.preventDefault(); startGame(); return; }
      if(!gameRunning) return;
      switch(e.key.toLowerCase()){
        case 'arrowup': case 'w': if(dy!==1){dx=0;dy=-1;} break;
        case 'arrowdown': case 's': if(dy!==-1){dx=0;dy=1;} break;
        case 'arrowleft': case 'a': if(dx!==1){dx=-1;dy=0;} break;
        case 'arrowright': case 'd': if(dx!==-1){dx=1;dy=0;} break;
      }
    });

    setInterval(()=>{ if(gameRunning){ moveSnake(); drawGame(); } },150);
    generateFood();
  </script>
</body>
</html>
